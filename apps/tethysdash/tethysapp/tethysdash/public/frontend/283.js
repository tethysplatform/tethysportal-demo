"use strict";(self.webpackChunktethysdash_frontend=self.webpackChunktethysdash_frontend||[]).push([[44,283,945],{22808:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(60764),n=s(45360);class r extends i.A{constructor(e){e=e||{};const t=Object.assign({},e),s=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(n.A.PRELOAD)}setPreload(e){this.set(n.A.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(n.A.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(n.A.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const a=r},30945:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});var i=s(24029),n=s(22808);class r extends n.A{constructor(e){super(e)}createRenderer(){return new i.A(this,{cacheSize:this.getCacheSize()})}}const a=r},42192:(e,t,s)=>{s.d(t,{B:()=>i});const i=4},68044:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var i=s(6141),n=s(62703),r=s(70915),a=s(36438),o=s(9703),h=s(96769);class l extends h.A{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],s=e.pixelRatio,o=e.viewState,h=o.resolution,l=this.getLayer().getSource(),u=e.viewHints;let c=e.extent;if(void 0!==t.extent&&(c=(0,r._N)(c,(0,a.SD)(t.extent,o.projection))),!u[n.A.ANIMATING]&&!u[n.A.INTERACTING]&&!(0,r.Im)(c))if(l){const e=o.projection,t=l.getImage(c,h,s,e);t&&(this.loadImage(t)?this.image=t:t.getState()===i.A.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const s=this.getLayer(),i=(0,o.Bb)(t.pixelToCoordinateTransform,e.slice()),n=s.getExtent();if(n&&!(0,r.Ym)(n,i))return null;const a=this.image.getExtent(),h=this.image.getImage(),l=(0,r.RG)(a),u=Math.floor(h.width*((i[0]-a[0])/l));if(u<0||u>=h.width)return null;const c=(0,r.Oq)(a),d=Math.floor(h.height*((a[3]-i[1])/c));return d<0||d>=h.height?null:this.getImageData(h,u,d)}renderFrame(e,t){const s=this.image,i=s.getExtent(),n=s.getResolution(),[h,l]=Array.isArray(n)?n:[n,n],u=s.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],d=e.pixelRatio,g=e.viewState,_=g.center,p=g.resolution,m=d*h/(p*u),f=d*l/(p*u);this.prepareContainer(e,t);const I=this.context.canvas.width,A=this.context.canvas.height,v=this.getRenderContext(e);let w=!1,R=!0;if(c.extent){const t=(0,a.SD)(c.extent,g.projection);R=(0,r.HY)(t,e.extent),w=R&&!(0,r.ms)(t,e.extent),w&&this.clipUnrotated(v,e,t)}const x=s.getImage(),y=(0,o.Zz)(this.tempTransform,I/2,A/2,m,f,0,u*(i[0]-_[0])/h,u*(_[1]-i[3])/l);this.renderedResolution=l*d/u;const E=x.width*y[0],S=x.height*y[3];if(this.getLayer().getSource().getInterpolate()||(v.imageSmoothingEnabled=!1),this.preRender(v,e),R&&E>=.5&&S>=.5){const e=y[4],t=y[5],s=c.opacity;1!==s&&(v.save(),v.globalAlpha=s),v.drawImage(x,0,0,+x.width,+x.height,e,t,E,S),1!==s&&v.restore()}return this.postRender(this.context,e),w&&v.restore(),v.imageSmoothingEnabled=!0,this.container}}const u=l;var c=s(60764);class d extends c.A{constructor(e){super(e=e||{})}}const g=d,_=class extends g{constructor(e){super(e)}createRenderer(){return new u(this)}getData(e){return super.getData(e)}}},79925:(e,t,s)=>{s.d(t,{Ay:()=>y,VV:()=>R,QD:()=>x});var i=s(43938),n=s(6141),r=s(66514),a=s(1685),o=s(6837),h=s(70915),l=s(61597),u=s(36438),c=s(9438),d=s(33513);function g(e){return Array.isArray(e)?Math.min(...e):e}var _=s(52913),p=s(93101);class m extends i.Ay{constructor(e,t,s,i,r,a,o){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let u=t.getExtent();u&&t.canWrapX()&&(u=u.slice(),u[0]=-1/0,u[2]=1/0);const c=u?(0,h._N)(s,u):s,g=(0,h.q1)(c),m=(0,d.KQ)(e,t,g,i),f=p.l,I=new _.A(e,t,c,l,m*f,i),A=I.calculateSourceExtent(),v=(0,h.Im)(A)?null:a(A,m,r),w=v?n.A.IDLE:n.A.EMPTY,R=v?v.getPixelRatio():1;super(s,i,R,w),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=I,this.targetResolution_=i,this.targetExtent_=s,this.sourceImage_=v,this.sourcePixelRatio_=R,this.interpolate_=o,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==n.A.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==n.A.LOADED){const e=(0,h.RG)(this.targetExtent_)/this.targetResolution_,t=(0,h.Oq)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,d.XX)(e,t,this.sourcePixelRatio_,g(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==n.A.IDLE){this.state=n.A.LOADING,this.changed();const e=this.sourceImage_.getState();e==n.A.LOADED||e==n.A.ERROR?this.reproject_():(this.sourceListenerKey_=(0,c.KT)(this.sourceImage_,o.A.CHANGE,(e=>{const t=this.sourceImage_.getState();t!=n.A.LOADED&&t!=n.A.ERROR||(this.unlistenSource_(),this.reproject_())})),this.sourceImage_.load())}}unlistenSource_(){(0,c.JH)(this.sourceListenerKey_),this.sourceListenerKey_=null}}const f=m;var I=s(16444),A=s(42192);class v extends a.Ay{constructor(e,t){super(e),this.image=t}}class w extends I.A{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!e.loader&&0===e.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();return t&&(e=t[(0,r.FT)(t,e,0)]),e}getImage(e,t,s,i){const n=this.getProjection();if(!n||!i||(0,u.tI)(n,i))return n&&(i=n),this.getImageInternal(e,t,s,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,u.tI)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&(0,h.aI)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new f(n,i,e,t,s,((e,t,s)=>this.getImageInternal(e,t,s,n)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,s,n){if(this.loader){const r=x(e,t,s,1),a=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===n&&(this.wantedExtent_&&(0,h.ms)(this.wantedExtent_,r)||(0,h.ms)(this.image.getExtent(),r))&&(this.wantedResolution_&&g(this.wantedResolution_)===a||g(this.image.getResolution())===a)))return this.image;this.wantedProjection_=n,this.wantedExtent_=r,this.wantedResolution_=a,this.image=new i.Ay(r,a,s,this.loader),this.image.addEventListener(o.A.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let s;switch(t.getState()){case n.A.LOADING:this.loading=!0,s="imageloadstart";break;case n.A.LOADED:this.loading=!1,s="imageloadend";break;case n.A.ERROR:this.loading=!1,s="imageloaderror";break;default:return}this.hasListener(s)&&this.dispatchEvent(new v(s,t))}}function R(e,t){e.getImage().src=t}function x(e,t,s,i){const n=t/s,r=(0,h.q1)(e),a=(0,l.mk)((0,h.RG)(e)/n,A.B),o=(0,l.mk)((0,h.Oq)(e)/n,A.B),u=a+2*(0,l.mk)((i-1)*a/2,A.B),c=o+2*(0,l.mk)((i-1)*o/2,A.B);return(0,h.Bg)(r,n,0,[u,c])}const y=w},98283:(e,t,s)=>{s.r(t),s.d(t,{Processor:()=>R,RasterSourceEvent:()=>x,default:()=>L});var i=s(90025),n=s(43938),r=s(6141);class a extends n.Ay{constructor(e,t,s,i,n){super(e,t,s,void 0!==n?r.A.IDLE:r.A.LOADED),this.loader_=void 0!==n?n:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=r.A.ERROR):this.state=r.A.LOADED,this.changed()}load(){this.state==r.A.IDLE&&(this.state=r.A.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}const o=a;var h=s(36813),l=s(68711),u=s(1685),c=s(6837),d=s(70915),g=s(68044),_=s(30945),p=s(9703),m=s(4087),f=s(79925),I=s(16444),A=s(66017);function v(e){return function(t){const s=t.buffers,i=t.meta,n=t.imageOps,r=t.width,a=t.height,o=s.length,h=s[0].byteLength;if(n){const t=new Array(o);for(let e=0;e<o;++e)t[e]=new ImageData(new Uint8ClampedArray(s[e]),r,a);return e(t,i).data.buffer}const l=new Uint8ClampedArray(h),u=new Array(o),c=new Array(o);for(let e=0;e<o;++e)u[e]=new Uint8ClampedArray(s[e]),c[e]=[0,0,0,0];for(let t=0;t<h;t+=4){for(let e=0;e<o;++e){const s=u[e];c[e][0]=s[t],c[e][1]=s[t+1],c[e][2]=s[t+2],c[e][3]=s[t+3]}const s=e(c,i);l[t]=s[0],l[t+1]=s[1],l[t+2]=s[2],l[t+3]=s[3]}return l.buffer}}function w(e,t){const s=Object.keys(e.lib||{}).map((function(t){return"const "+t+" = "+e.lib[t].toString()+";"})).concat(["const __minion__ = ("+v.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Worker("undefined"==typeof Blob?"data:text/javascript;base64,"+Buffer.from(s.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(s,{type:"text/javascript"})));return i.addEventListener("message",t),i}class R extends i.A{constructor(e){let t;super(),this.imageOps_=!!e.imageOps,t=0===e.threads?0:this.imageOps_?1:e.threads||1;const s=new Array(t);if(t)for(let i=0;i<t;++i)s[i]=w(e,this.onWorkerMessage_.bind(this,i));else s[0]=function(e,t){const s=v(e.operation);let i=!1;return{postMessage:function(e){setTimeout((function(){i||t({data:{buffer:s(e),meta:e.meta}})}),0)},terminate:function(){i=!0}}}(e,this.onWorkerMessage_.bind(this,0));this.workers_=s,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,s){this.enqueue_({inputs:e,meta:t,callback:s}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||0===this.queue_.length)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,s=e.inputs[0].height,i=e.inputs.map((function(e){return e.data.buffer})),n=this.workers_.length;if(this.running_=n,1===n)return void this.workers_[0].postMessage({buffers:i,meta:e.meta,imageOps:this.imageOps_,width:t,height:s},i);const r=e.inputs[0].data.length,a=4*Math.ceil(r/4/n);for(let r=0;r<n;++r){const n=r*a,o=[];for(let e=0,t=i.length;e<t;++e)o.push(i[e].slice(n,n+a));this.workers_[r].postMessage({buffers:o,meta:e.meta,imageOps:this.imageOps_,width:t,height:s},o)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,0===this.running_&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let s,i;if(1===t)s=new Uint8ClampedArray(this.dataLookup_[0].buffer),i=this.dataLookup_[0].meta;else{const n=e.inputs[0].data.length;s=new Uint8ClampedArray(n),i=new Array(t);const r=4*Math.ceil(n/4/t);for(let e=0;e<t;++e){const t=this.dataLookup_[e].buffer,n=e*r;s.set(new Uint8ClampedArray(t),n),i[e]=this.dataLookup_[e].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(s,e.inputs[0].width,e.inputs[0].height),i),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}class x extends u.Ay{constructor(e,t,s){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=s}}class y extends f.Ay{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=void 0!==e.operationType?e.operationType:"pixel",this.threads_=void 0!==e.threads?e.threads:1,this.layers_=function(e){const t=e.length,s=new Array(t);for(let i=0;i<t;++i)s[i]=b(e[i]);return s}(e.sources);const t=this.changed.bind(this);for(let e=0,s=this.layers_.length;e<s;++e)this.layers_[e].addEventListener(c.A.CHANGE,t);var s;this.useResolutions_=null!==e.resolutions,this.tileQueue_=new h.A((function(){return 1}),this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:(0,p.vt)(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:(s=this.layers_,s.map((function(e){return e.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:(0,p.vt)(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:(0,m.v6)(this),renderTargets:{}},this.setAttributions((function(t){const s=[];for(let i=0,n=e.sources.length;i<n;++i){const n=e.sources[i],r=n instanceof I.A?n:n.getSource();if(!r)continue;const a=r.getAttributions()?.(t);"string"==typeof a?s.push(a):void 0!==a&&s.push(...a)}return s})),void 0!==e.operation&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new R({operation:e,imageOps:"image"===this.operationType_,queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,s){const i=Object.assign({},this.frameState_);i.viewState=Object.assign({},i.viewState);const n=(0,d.q1)(e);i.size[0]=Math.ceil((0,d.RG)(e)/t),i.size[1]=Math.ceil((0,d.Oq)(e)/t),i.extent=[n[0]-i.size[0]*t/2,n[1]-i.size[1]*t/2,n[0]+i.size[0]*t/2,n[1]+i.size[1]*t/2],i.time=Date.now();const r=i.viewState;return r.center=n,r.projection=s,r.resolution=t,i}allSourcesReady_(){let e,t=!0;for(let s=0,i=this.layers_.length;s<i;++s)if(e=this.layers_[s].getSource(),!e||"ready"!==e.getState()){t=!1;break}return t}getImage(e,t,s,i){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const n=this.updateFrameState_(e,t,i);if(this.requestedFrameState_=n,this.renderedImageCanvas_){const e=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();t===e&&(0,d.aI)(n.extent,s)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,s=new Array(t);for(let i=0;i<t;++i){e.layerIndex=i,e.renderTargets={};const t=S(this.layers_[i],e);if(!t)return;s[i]=t}const i={};this.dispatchEvent(new x("beforeoperations",e,i)),this.processor_.process(s,i,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,s,i){if(t||!s)return;const n=e.extent,r=e.viewState.resolution;if(r!==this.requestedFrameState_.viewState.resolution||!(0,d.aI)(n,this.requestedFrameState_.extent))return;let a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{const e=Math.round((0,d.RG)(n)/r),t=Math.round((0,d.Oq)(n)/r);a=(0,l.Y)(e,t),this.renderedImageCanvas_=new o(n,r,1,a.canvas)}a.putImageData(s,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new x("afteroperations",e,i))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let s=0,i=this.layers_.length;s<i&&(t=this.layers_[s].getSource().getResolutions(e),!t);++s);return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}y.prototype.dispose;let E=null;function S(e,t){const s=e.getRenderer();if(!s)throw new Error("Unsupported layer type: "+e);if(!s.prepareFrame(t))return null;const i=t.size[0],n=t.size[1];if(0===i||0===n)return null;const r=s.renderFrame(t,null);let a;if(r instanceof HTMLCanvasElement)a=r;else{if(r&&(a=r.firstElementChild),!(a instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+a);if(a.width===i&&a.height===n)return a.getContext("2d").getImageData(0,0,i,n)}if(E){const e=E.canvas;e.width!==i||e.height!==n?E=(0,l.Y)(i,n,void 0,{willReadFrequently:!0}):E.clearRect(0,0,i,n)}else E=(0,l.Y)(i,n,void 0,{willReadFrequently:!0});return E.drawImage(a,0,0,i,n),E.getImageData(0,0,i,n)}function b(e){let t;return e instanceof I.A?e instanceof A.A?t=new _.default({source:e}):e instanceof f.Ay&&(t=new g.default({source:e})):t=e,t}const L=y}}]);