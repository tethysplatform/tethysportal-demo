"use strict";(self.webpackChunktethysdash_frontend=self.webpackChunktethysdash_frontend||[]).push([[44],{68044:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var n=r(6141),i=r(62703),s=r(70915),a=r(36438),o=r(9703),h=r(96769);class g extends h.A{constructor(t){super(t),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],r=t.pixelRatio,o=t.viewState,h=o.resolution,g=this.getLayer().getSource(),l=t.viewHints;let c=t.extent;if(void 0!==e.extent&&(c=(0,s._N)(c,(0,a.SD)(e.extent,o.projection))),!l[i.A.ANIMATING]&&!l[i.A.INTERACTING]&&!(0,s.Im)(c))if(g){const t=o.projection,e=g.getImage(c,h,r,t);e&&(this.loadImage(e)?this.image=e:e.getState()===n.A.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(t){const e=this.frameState;if(!e)return null;const r=this.getLayer(),n=(0,o.Bb)(e.pixelToCoordinateTransform,t.slice()),i=r.getExtent();if(i&&!(0,s.Ym)(i,n))return null;const a=this.image.getExtent(),h=this.image.getImage(),g=(0,s.RG)(a),l=Math.floor(h.width*((n[0]-a[0])/g));if(l<0||l>=h.width)return null;const c=(0,s.Oq)(a),u=Math.floor(h.height*((a[3]-n[1])/c));return u<0||u>=h.height?null:this.getImageData(h,l,u)}renderFrame(t,e){const r=this.image,n=r.getExtent(),i=r.getResolution(),[h,g]=Array.isArray(i)?i:[i,i],l=r.getPixelRatio(),c=t.layerStatesArray[t.layerIndex],u=t.pixelRatio,m=t.viewState,d=m.center,p=m.resolution,x=u*h/(p*l),f=u*g/(p*l);this.prepareContainer(t,e);const I=this.context.canvas.width,y=this.context.canvas.height,A=this.getRenderContext(t);let w=!1,S=!0;if(c.extent){const e=(0,a.SD)(c.extent,m.projection);S=(0,s.HY)(e,t.extent),w=S&&!(0,s.ms)(e,t.extent),w&&this.clipUnrotated(A,t,e)}const R=r.getImage(),v=(0,o.Zz)(this.tempTransform,I/2,y/2,x,f,0,l*(n[0]-d[0])/h,l*(d[1]-n[3])/g);this.renderedResolution=g*u/l;const E=R.width*v[0],T=R.height*v[3];if(this.getLayer().getSource().getInterpolate()||(A.imageSmoothingEnabled=!1),this.preRender(A,t),S&&E>=.5&&T>=.5){const t=v[4],e=v[5],r=c.opacity;1!==r&&(A.save(),A.globalAlpha=r),A.drawImage(R,0,0,+R.width,+R.height,t,e,E,T),1!==r&&A.restore()}return this.postRender(this.context,t),w&&A.restore(),A.imageSmoothingEnabled=!0,this.container}}const l=g;var c=r(60764);class u extends c.A{constructor(t){super(t=t||{})}}const m=u,d=class extends m{constructor(t){super(t)}createRenderer(){return new l(this)}getData(t){return super.getData(t)}}}}]);